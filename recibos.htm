<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recibos - ToPerformance</title>
  <link rel="stylesheet" href="recibos.css">
</head>
<body>
  <header>
    <img src="imagenes/logo1.png" alt="logo" class="logo">
    <div class="hdr-title">
      <h1>Recibos — ToPerformance</h1>
      <div class="muted">Panel interno — taller</div>
    </div>
    <div class="hdr-actions">
      <button id="btn-volver">Volver al inicio</button>
      <button id="btn-logout">Cerrar sesión</button>
    </div>
  </header>

  <main>
    <section class="left">
      <div class="card">
        <h2>Nuevo recibo</h2>

        <div class="row">
          <input id="cliente" placeholder="Nombre del cliente">
          <select id="selectProducto"><option value="">Cargando productos...</option></select>
          <input id="cantidad" type="number" min="1" value="1">
          <button id="btnAgregarLinea" class="btn-primary">Agregar</button>
        </div>

        <div class="table-wrap">
          <table id="tablaLineas">
            <thead><tr><th>Producto</th><th>Cant</th><th>Precio</th><th>Subtotal</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="totales">
          <div>Total: <strong id="total">0.00</strong></div>
          <div class="controls">
            <select id="metodoPago">
              <option value="Efectivo">Efectivo</option>
              <option value="Transferencia">Transferencia</option>
            </select>
            <button id="btnGuardarRecibo" class="btn-success">Guardar & Actualizar stock</button>
            <button id="btnGenerarPDF" class="btn-outline">Generar PDF</button>
          </div>
        </div>
      </div>

      <div class="card mt">
        <h2>Recibos guardados</h2>
        <div class="table-wrap">
          <table id="tablaRecibos">
            <thead><tr><th>Cliente</th><th>Total</th><th>Pago</th><th>Fecha</th><th>Acciones</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="mt small muted">
          <button id="exportRecibosXLS">Exportar Excel</button>
          <button id="exportRecibosPDF">Exportar PDF</button>
        </div>
      </div>
    </section>

    <aside class="right">
      <div class="card">
        <h3>Previsualización</h3>
        <div id="preview" class="preview">
          <div class="preview-header">
            <img src="imagenes/logo1.png" alt="logo" class="logo-small">
            <div>
              <strong>ToPerformance</strong>
              <div class="muted small">Gracias por visitar ToPerformance</div>
            </div>
          </div>
          <div id="previewContent" class="preview-content small muted">
            Aún no hay líneas en el recibo.
          </div>
        </div>
      </div>

      <div class="card mt">
        <h3>Historial (últimos 100)</h3>
        <ul id="historialList" class="hist-list"></ul>
      </div>
    </aside>
  </main>

  <footer>
    © 2025 ToPerformance - Panel Interno
  </footer>

  <script type="module" src="recibos.js"></script>
</body>
</html>