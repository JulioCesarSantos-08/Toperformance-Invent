<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Recibos - ToPerformance</title>
  <link rel="stylesheet" href="recibos.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <link rel="icon" href="imagenes/logo1.png" />
</head>
<body>
  <header>
    <img src="imagenes/logo1.png" alt="Logo" class="logo">
    <h1>Panel de Recibos — ToPerformance</h1>
    <div class="header-actions">
      <button id="btnInicio">Volver al inicio</button>
      <button id="btnLogout">Cerrar sesión</button>
    </div>
  </header>

  <main>
    <section class="left-col">
      <div class="card">
        <h2>Nuevo recibo</h2>

        <label>Cliente</label>
        <input id="inputCliente" placeholder="Nombre completo">

        <label>Servicio (título)</label>
        <input id="inputServicio" placeholder="Ej. Cambio de aceite">

        <label>Descripción detallada</label>
        <textarea id="inputDescripcion" rows="3" placeholder="Detalle de trabajos realizados..."></textarea>

        <label>Buscar producto (inventario)</label>
        <input id="inputBuscarProducto" placeholder="Buscar por nombre...">

        <div id="productosLista" class="productos-lista"></div>
        <div id="productosSeleccionados" class="productos-seleccionados"></div>

        <label>Método de pago</label>
        <select id="inputMetodoPago">
          <option value="">Seleccionar</option>
          <option value="Efectivo">Efectivo</option>
          <option value="Transferencia">Transferencia</option>
          <option value="Tarjeta">Tarjeta</option>
        </select>

        <label>Costo de servicio (mano de obra)</label>
        <input id="inputServicioCosto" type="number" min="0" placeholder="Ej. 300">

        <div class="controls-row">
          <button id="btnGenerar" class="primary">Generar Recibo</button>
          <button id="btnLimpiar" class="secondary">Limpiar</button>
        </div>
      </div>

      <div class="card mt">
        <h3>Historial de recibos</h3>

        <div class="hist-controls">
          <input id="buscarHistorial" placeholder="Buscar por cliente...">
          <div>
            <button id="btnExportExcel" class="secondary">Exportar Excel</button>
            <button id="btnBorrarHistorial" class="danger">Borrar historial</button>
          </div>
        </div>

        <div id="historialLista" class="acordeon"></div>
      </div>
    </section>

    <aside class="right-col">
      <div class="card">
        <h3>Vista previa (factura)</h3>
        <div id="previewContainer" class="preview-container hidden"></div>

        <div class="preview-actions">
          <button id="btnDownloadPDF" class="primary">Descargar PDF</button>
          <button id="btnSaveLocal" class="secondary">Guardar en Historial</button>
          <button id="btnNew" class="secondary">Crear Nuevo</button>
        </div>
      </div>
    </aside>
  </main>

  <footer>
    <small>© 2025 ToPerformance — Panel interno</small>
  </footer>

  <script type="module" src="recibos.js"></script>
</body>
</html>
